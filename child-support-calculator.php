<?php/*Plugin Name:  Child Support CalculatorPlugin URI:   http://www.omaksolutions.comDescription:  Child Support Calculator is meant to generate leads and helps to approximately estimate the child support fee, on the basis of income of the parents, it does not consider expenses by each parent.Author URI:   http://www.omaksolutions.com Author:       Om Ak Solutions Version:      2.0.1.2Text Domain: child-support-calculator*/const  WPCSC_VERSION = '2.0.1.2' ;const  WPCSC_JS_VERSION = '1.0.1' ;const  WPCSC_REQUIRED_WP_VERSION = '3.0.1' ;const  WPCSC_PLUGIN = __FILE__ ;const  WPCSC_DEV_MODE = false ;define( 'WPCSC_PLUGIN_BASENAME', plugin_basename( WPCSC_PLUGIN ) );define( 'WPCSC_PLUGIN_NAME', trim( dirname( WPCSC_PLUGIN_BASENAME ), '/' ) );define( 'WPCSC_PLUGIN_DIR', untrailingslashit( dirname( WPCSC_PLUGIN ) ) );const  WPCSC_ADMIN_DIR = WPCSC_PLUGIN_DIR . '/admin' ;const  WPCSC_INC_DIR = WPCSC_PLUGIN_DIR . '/includes' ;const  WPCSC_CLASSES_DIR = WPCSC_INC_DIR . '/classes' ;const  WPCSC_TXT_DOMAIN = 'child-support-calculator' ;const  DEFAULT_DATE_FORMAT = 'Y-m-d H:i:s' ;if ( !defined( 'SITE_URL' ) ) {define( 'SITE_URL', site_url() );}if ( function_exists( 'wpcsc_fs' ) ) {wpcsc_fs()->set_basename( false, __FILE__ );} else {// Create a helper function for easy SDK access.function wpcsc_fs(){global  $wpcsc_fs ;if ( !isset( $wpcsc_fs ) ) {// Include Freemius SDK.require_once dirname( __FILE__ ) . '/freemius/start.php';$wpcsc_fs = fs_dynamic_init( array(    'id'             => '9426',    'slug'           => 'child-support-calculator',    'premium_slug'   => 'child-support-calculator-pro',    'type'           => 'plugin',    'public_key'     => 'pk_e0da3d3da523c8693200a22552692',    'is_premium'     => false,    'premium_suffix' => 'Premium',    'has_addons'     => false,    'has_paid_plans' => true,    'menu'           => array(    'slug'       => 'wpcsc',    'first-path' => 'admin.php?page=wpcsc',),    'is_live'        => true,) );}return $wpcsc_fs;}// Init Freemius.wpcsc_fs();// Signal that SDK was initiated.do_action( 'wpcsc_fs_loaded' );require_once WPCSC_INC_DIR . '/dompdf/autoload.inc.php';require_once WPCSC_CLASSES_DIR . '/class.entity.php';require_once WPCSC_CLASSES_DIR . '/class.wphelpers.php';require_once WPCSC_CLASSES_DIR . '/class.wpcsc_calc.php';require_once WPCSC_CLASSES_DIR . '/class.wpcsc.php';require_once WPCSC_CLASSES_DIR . '/class.wpcsc_settings.php';require_once WPCSC_CLASSES_DIR . '/class.wpcsc_settings_nc.php';require_once WPCSC_CLASSES_DIR . '/class.incomes.php';require_once WPCSC_CLASSES_DIR . '/class.leads.php';$files = glob( __DIR__ . '/includes/functions-*.php' );if ( $files === false ) {throw new RuntimeException( "Failed to glob for function files" );}foreach ( $files as $file ) {require_once $file;}unset( $file );unset( $files );require_once WPCSC_ADMIN_DIR . '/admin-init.php';if ( is_admin() ) {// require_once( WPCSC_ADMIN_DIR . '/admin-pages.php' );}/*///////////////////////////////////    // Activation Hook    ////////////////////////////////////*/register_activation_hook( __FILE__, 'wpcsc_on_activate' );function wpcsc_on_activate(){update_option( 'wpcsc_install_date', current_time( 'Y-m-d H:i:s' ) );update_option( 'wpcsc_delete_data', 0 );set_transient( 'wpcsc_activated', 1 );wpcsc_update_db_check();( new WPCSC() )->store_defaults();//( new WPCSC_SETTINGS() )->store_table();//( new WPCSC_SETTINGS_NC() )->store_table();}/*//////////////////////////////////    // Deactivation Hook    ////////////////////////////////////*/register_deactivation_hook( __FILE__, 'wpcsc_on_deactivate' );function wpcsc_on_deactivate(){$delete_all_data = get_option( 'wpcsc__settings', [] );if ( !empty($delete_all_data['delete_data']) && $delete_all_data['delete_data'] === 'on' ) {$options = [    'wpcsc_db_version',    'wpcsc_db_version',    'wpcsc_delete_data',    'wpcsc_income_slabs',    'wpcsc_table_html',    'wpcsc_table_data'];$settings_options = [    'wpcsc__settings',    'wpcsc__forms',    'wpcsc__pdf',    'wpcsc__email',    'wpcsc__admin_email'];$wpcsc_incomes = new WPCSC_INCOMES();$wpcsc_incomes->remove_all( [] );// Remove all leads$wpcsc_leads = new WPCSC_LEADS();$wpcsc_leads->remove_all( [] );}}/*//////////////////////////////////    // Uninstall Hook    ////////////////////////////////////*/// register_uninstall_hook(__FILE__, 'wpcsc_on_uninstall');wpcsc_fs()->add_action( 'after_uninstall', 'wpcsc_on_uninstall' );function wpcsc_on_uninstall(){/* Empty Activation Hook        // Temporary Fix        //delete_option( 'wpcsc_opts' );        // Do the action *///wpcsc_uninstall_plugin(true);}/**     * Set Plugin URL Path (SSL/non-SSL)     * @param string - $path     * @return string - $url     * Return https or non-https URL from path     */function wpcsc_plugin_url( $path = '' ){$url = plugins_url( $path, WPCSC_PLUGIN );if ( is_ssl() && 'http:' == substr( $url, 0, 5 ) ) {$url = 'https:' . substr( $url, 5 );}return $url;}add_action( 'init', 'wpcsc_init_actions' );function wpcsc_init_actions(){}function wpcsc_getIndianCurrency( $number ){$decimal = round( $number - ($no = floor( $number )), 2 ) * 100;$hundred = null;$digits_length = strlen( $no );$i = 0;$str = array();$words = array(    0  => '',    1  => 'one',    2  => 'two',    3  => 'three',    4  => 'four',    5  => 'five',    6  => 'six',    7  => 'seven',    8  => 'eight',    9  => 'nine',    10 => 'ten',    11 => 'eleven',    12 => 'twelve',    13 => 'thirteen',    14 => 'fourteen',    15 => 'fifteen',    16 => 'sixteen',    17 => 'seventeen',    18 => 'eighteen',    19 => 'nineteen',    20 => 'twenty',    30 => 'thirty',    40 => 'forty',    50 => 'fifty',    60 => 'sixty',    70 => 'seventy',    80 => 'eighty',    90 => 'ninety',);$digits = array(    '',    'hundred',    'thousand',    'lakh',    'crore');while ( $i < $digits_length ) {$divider = ( $i == 2 ? 10 : 100 );$number = floor( $no % $divider );$no = floor( $no / $divider );$i += ( $divider == 10 ? 1 : 2 );if ( $number ) {$plural = ( ($counter = count( $str )) && $number > 9 ? 's' : null );$hundred = ( $counter == 1 && $str[0] ? ' and ' : null );$str[] = ( $number < 21 ? $words[$number] . ' ' . $digits[$counter] . $plural . ' ' . $hundred : $words[floor( $number / 10 ) * 10] . ' ' . $words[$number % 10] . ' ' . $digits[$counter] . $plural . ' ' . $hundred );} else {$str[] = null;}}$Rupees = implode( '', array_reverse( $str ) );$paise = ( $decimal ? "." . ($words[$decimal / 10] . " " . $words[$decimal % 10]) . ' Paise' : '' );return (( $Rupees ? $Rupees . 'Rupees ' : '' )) . $paise;}/*     * Get E-mail Headers     */function wpcsc_get_mail_headers(){return "Content-type:text/html;charset=UTF-8" . "\r\n";}add_action( 'wp_head', 'wpcsc_wp_head_plugin' );function wpcsc_wp_head_plugin(){}function wpcsc_is_admin_page(){if ( isset( $_GET['page'] ) ) {$page = sanitize_text_field( $_GET['page'] );return isset( $page ) && strpos( $page, 'wpcsc' ) !== false;}return false;}add_filter( 'admin_body_class', 'wpcsc_body_class' );function wpcsc_body_class( $classes ){if ( wpcsc_is_admin_page() ) {$classes .= ' wpcsc-page';}return $classes;}}